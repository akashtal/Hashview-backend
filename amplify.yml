version: 1
frontend:
  phases:
    preBuild:
      commands:
        - echo "Installing backend dependencies..."
        - npm ci --cache .npm --prefer-offline
    build:
      commands:
        - echo "Backend build - no compilation needed for Node.js"
        - echo "Server will be started with 'npm start'"
    postBuild:
      commands:
        - echo "Build completed successfully"
        - echo "Backend ready to start on port $PORT"
  artifacts:
    baseDirectory: .
    files:
      - '**/*'
      - '!node_modules/**/*'
      - '!coverage/**/*'
      - '!logs/**/*'
      - '!.git/**/*'
      - '!tests/**/*'
      - '!*.test.js'
      - '!*.spec.js'
  cache:
    paths:
      - node_modules/**/*
      - .npm/**/*
